<chapter>
  <title>Knot DNS Configuration</title>
  <para>
    In this chapter we provide suggested configuration and explain the meaning of individual configuration options.
  </para>
  <section>
    <title>Sample Configurations</title>
    <section>
      <title>Minimal Configuration</title>
      <para>
	The following configuration presents a minimal configuration
	file which can be used as a base for your Knot DNS setup.
	<programlisting>
# This is a sample of a minimal configuration file for Knot DNS.
#
# For exhaustive list of all options see samples/knot.full.conf
# in the source directory.
#

system {
  storage "/var/lib/knot";
}

interfaces {
  my_interface { address 127.0.0.1@53; }
  second_int { address ::1; }
}

log {
  syslog { any notice, warning, error; }
}

zones {
  example.com {  
    file "/etc/knot/example.com"; 
  }
}
	</programlisting>
      </para>
      <para>
	Let's now go step by step through this minimal configuration file:

	<orderedlist>
	  <listitem>
	    In <filename><link xml:id="system">system</link></filename>
	    statement we have
	    configured <link xml:id="storage">storage</link> directory
	    where Knot DNS will store compiled zone files, it's
	    pidfile and for slave zone also their journal files.
	  </listitem>
	  <listitem>
	    The <filename><link xml:id="interfaces">interfaces</link></filename>
	    statement defines interfaces where Knot DNS will listen
	    for incoming connections. We have defined two interfaces:
	    one IPv4 called <filename>my_interface</filename>
	    explicitly listening on port 53 and second IPv6
	    called <filename>second_int</filename> also listening on
	    port 53, which is the default port for the DNS.
	  </listitem>
	  <listitem>
	    The <filename><link xml:id="log">log</link></filename>
	    statement defines the destination where Knot DNS will send
	    it's log messages.  In this example we told Knot DNS to
	    send its log messages with
	    priority <filename>debug</filename>, <filename>warning</filename>
	    and <filename>notice</filename> into the syslog.
	  </listitem>
	  <listitem>
	    The <filename><link xml:id="zones">zones</link></filename>
	    statement is the one probably most important, because it
	    defines the zones Knot DNS will serve.  In its most simple
	    form you define zone by it's name and defined the filename
	    where Knot DNS can find the zone contents.
	  </listitem>
	</orderedlist>
      </para>
    </section>
  </section>
</chapter>
