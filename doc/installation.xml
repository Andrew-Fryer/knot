<chapter>
  <title>Knot DNS Installation</title>
  <section>
    <title>Required build environment</title>
    <para>
      [TODO] Describe lowest needed GCC/Clang, etc.
    </para>
  </section>
  <section>
    <title>Required libraries</title>
    <para>
      Knot DNS requires few libraries to be compiled:
      <itemizedlist>
	<listitem><tt>OpenSSL</tt></listitem>
	<listitem><tt>zlib</tt></listitem>
	<listitem><tt>Userspace RCU</tt></listitem>
      </itemizedlist>
    </para>
    <para>
      You can probably find OpenSSL and zlib libraries already included
      in your system or distribution.  If not, zlib resides at
      <link xl:href="http://zlib.net/">http://zlib.net</link>, and OpenSSL can be found at
      <link xl:href="http://www.openssl.org/">OpenSSL</link>.
    </para>

    <section>
      <title>Userspace RCU</title>
      <para>
	liburcu is a LGPLv2.1 userspace RCU (read-copy-update)
	library. This data synchronization library provides read-side
	access which scales linearly with the number of cores. It does
	so by allowing multiples copies of a given data structure to
	live at the same time, and by monitoring the data structure
	accesses to detect grace periods after which memory reclamation
	is possible.  (<link xl:href="http://lttng.org/urcu">Userspace RCU</link>)
      </para>
      <para>
	Binary packages for Debian can be found under liburcu1 for the
	library and liburcu-dev for development files.
      </para>
      <para>
	Minimum supported version of Userspace RCU library is [TODO].
      </para>
    </section>
  </section>

  <section>
    <title>Installation from the sources</title>
    <para>
      After unpacking the sources, the compilation and installation is
      a quite straightforward process using autotools.
    </para>
    <section>
      <title>Running ./configure</title>
      <para>
	For all available options run:

	<tt>./configure --help</tt>
      </para>
    </section>
    <section>
      <title>Compilation</title>
      <para>
	After running <tt>./configure</tt> you can compile Knot DNS by
	running <tt>make</tt> command, which will produce binaries and
	other related files.
      </para>
      <para>
	Knot DNS build process is safe to paralelize using <tt>make -j
	N</tt>, where N is number of concurrent processes.  Using this
	option can increase speed of the compilation.
      </para>
    </section>
    <section>
      <title>Installation</title>
      <para>
	When you have finished building the Knot DNS, it's time to
	install the binaries and configuration files into the
	operation system hierarchy.  You can do so by
	executing <tt>make install</tt> command.  When installing as a
	non-root user you might have to gain elevated privileges by
	switching to root user, e.g. <tt>sudo make install</tt>
	or <tt>su -c 'make install'</tt>.
      </para>
    </section>
  </section>
</chapter>
